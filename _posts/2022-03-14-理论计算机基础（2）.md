---
title: 理论计算机科学基础（1）——第2章
tags: A-课程笔记 理论计算机科学基础
mathjax: true
mathjax_autoNumber: true
key: 理论计算机科学基础（1）——第2章
sharing: true
typora-root-url: ..
---

> 理论计算机科学基础随堂笔记。第2章：上下文无关文法
> 
> 使用教材：《计算理论导引》（原书第3版）  Michael Sipser 著，机械工业出版社

<!--more-->

# 第2章 上下文无关文法(CFG)

## 2.1 定义与基本概念

### 2.1.1 上下文无关文法(CFG)

用$G=(V,\Sigma, R,S)$表示。其中，V是**变元集**，$\Sigma$是**终结符集**，**规则集**R定义为：

$$
    R: A\to \alpha,A\in V,\alpha\in(V\cup\Sigma)^*
$$

由规则R可以**派生**字符串：

$$
xAy\Rightarrow x\alpha y
$$

其中x称为A的**上文**，y称为A的**下文**。$S\in V$为**起始变元**。

**<u>例1</u>** 写出下面的语言对应的文法：

$$
L_1=\left\{0^n1^n\mid n\geq 0\right\}
$$

**解**：

$$
G_1=(\left\{S \right\},\left\{0,1 \right\},\left\{S\to 0S1, S\to \epsilon \right\},S)
$$

■

在描述一个文法时，通常只写出它的规则。出现在规则左边的所有符号都是变元，其余的符号都是终结符。按照惯例，起始变元是第一条规则左边的变元。因此例1中的$G_1$可以表示如下：

$$
S\to 0S1,
S\to \epsilon
$$

或进一步简写为

$$
S\to 0S1 \mid \epsilon
$$

### 2.1.2 派生

如果由变元及终结符组成的字符串u,v满足$u=v$，或存在$u_1,u_2,...,u_k$使得

$$
u\Rightarrow u_1\Rightarrow u_2\Rightarrow ... \Rightarrow u_k\Rightarrow v
$$

则称u**派生**v，记作$u\stackrel{*}{\Rightarrow}v$。

**<u>例2</u>** 例1中$S$可按照下述方式派生$0^31^3$：

$$
S\Rightarrow 0S1\Rightarrow 00S11\Rightarrow 000S111\Rightarrow 000111=0^31^3
$$

■

- **最左派生**：每次派生时只替换最左变元的派生。

**<u>例3</u>** 写出下面语言对应的文法，及$(()())()$对应的最左派生：

$$
L_2=\left\{x\mid x是正确配对的圆括号串，如\epsilon,(),()(),(())...\right\}
$$

**解**：$G_2$的派生规则为：

$$
S\to SS\mid (S)\mid \epsilon
$$

最左派生：

$$
S\Rightarrow SS\Rightarrow (S)S\Rightarrow (SS)S\Rightarrow ((S)(S))S\Rightarrow\\ (()(S))S\Rightarrow (()())S\Rightarrow (()())(S)\Rightarrow(()())()
$$

■

- **文法的语言**：称

$$
L(G)=\left\{x\mid S\stackrel{*}{\Rightarrow}x, x\in \Sigma^* \right\}
$$

为文法$G$的语言，即所有由起始变元S派生的仅由终结符组成的字符串集。

### 2.1.3 语法生成树

语法生成树描述了一个字符串的生成过程。例如，例3中$(()())()$的语法生成树为：

<center><img src="/assets/images/理计/2.1.png" alt="2.1" style="zoom: 100%;" /></center>

## 2.2 文法的歧义性

### 2.2.1 文法的歧义性与固有歧义语言

文法的歧义性是说，存在一个串，它有两个不同的最左派生。请见下例

**<u>例4</u>** 写出在下面文法$G_3$中，字符串$a+a\times a$的最左派生：

$$
G_3: E\to E+E\mid E\times E\mid(E)\mid a
$$

**解**：

最左派生1：

$$
E\Rightarrow E+E\Rightarrow a+E\Rightarrow a+E\times E\Rightarrow a+a\times E\Rightarrow a+a\times a
$$

最左派生2：

$$
E\Rightarrow E\times E \Rightarrow E+E\times E\Rightarrow a+E\times E\Rightarrow a+a\times E\Rightarrow a+a\times a
$$

■

称所有文法都是歧义文法的<u>上下文无关语言</u>(CFL)为**固有歧义语言**。

例3是有歧义的（第1步可以先派生$SS$，也可以先派生$(S)$），但不是固有歧义的，例如可将其文法改为：

$$
S\to S(S)\mid \epsilon
$$

容易验证两者等价，且后者无歧义。

> ### 2.2.2 确定性上下文无关文法(DCFG)
> 
> 归约：派生的逆过程，用符号$\mapsto$表示（派生用符号$\Rightarrow$）。
> 
> 最左归约中总是有唯一的句柄(handle)的文法被称为确定性上下文无关文法。

## 2.3 乔姆斯基范式(CNF)

称一个<u>上下文无关文法</u>为乔姆斯基范式(CNF)，如果它的每一个规则都有如下形式：

$$
A\to BC\\
A\to a
$$

其中，A,B,C是任意的变元，且B和C不能是起始变元。此外，允许规则

$$
S\to \epsilon
$$

S为起始变元。

**定理** 任一CFL都可以用一个CNF形式的CFL产生。