---
title: 计算机组成原理（2）——指令系统
tags: A-课程笔记 计算机组成原理
mathjax: true
mathjax_autoNumber: true
key: 计算机组成原理（2）——指令系统
sharing: true
typora-root-url: ..
---


> 计算机组成原理，第7章：指令系统。
> 
> 唐朔飞《计算机组成原理》（第3版）

<!--more-->

# 第7章 指令系统

## 7.1 机器指令

### 7.1.1 指令的一般格式

指令：操作码+操作数（或其地址码）

#### (1) 操作码

操作码：反映机器做什么操作，有的指令集操作码长度固定，有的指令集操作码长度可变。

扩展操作码技术：是一种变长编码，就是让操作码的位数随地址数的减少而增加，从而充分利用固定的指令字长。扩展方法如下图所示：

<center><img src="/assets/images/计组/7.1.png" alt="7.1" style="zoom: 80%;" /></center>

也可以[15:12]位为1111和1110时都指示非4位操作码，这样三地址操作码减少了一种，但同时二地址操作码就多了$2^4=16$种。（不是15种，因为前缀为1110 1111的也是二地址操作码）

值得注意的是，操作码越短，译码就越快，因此设计指令集时，常用指令可以考虑多使用短操作码。

#### (2) 地址码

设四地址指令构成为：OP(8)-A1(6)-A2(6)-A3(6)-A4(6)，括号中表示该位段长度。它的含义为：(A1)OP(A2)→A3，下条指令地址为A4。

那么它一共需要4次访存：取值一次，取两个源操作数A1,A2两次，写回目的操作数地址A3一次。

### 7.1.2 指令字长

指令字长决定于：① 操作码长度；② 操作数地址的长度；③ 操作数地址的个数。

有的指令集指令字长固定（如MIPS 32固定为32位指令），有的指令集指令字长可变。

## 7.2 操作数类型和操作种类

### 7.2.1 操作数类型

|含义|表示类型|
|:--|:--|
|地址|无符号整数|
|数字|定点数、浮点数、十进制数|
|字符|ASCII|
|逻辑数|逻辑运算|

### 7.2.2 数据在存储器中的存放方式

就是小端序和大端序。

LSB：least significant bit，就是自然表示法下最右边的二进制位（最低位）。例如00101101中，LSB就是最右边的1。

MSB：most significant bit，就是自然表示法下最左边的二进制位（最高位）。例如00101101中，MSB就是最左边的0。

几乎所有机器都用**字节编址**。而一个数常常要占用多个字节，如有的机器中int类型的数据占用4个字节，那么这4个字节应当按照何种顺序在存储器中存放呢？或者说，它一共占用了4个地址，那么哪个地址是起始存放地址呢？这就是**小端序**与**大端序**的问题。我们以存放0x00010203和0x04050607为例：

<center><img src="/assets/images/计组/7.2.png" alt="7.2" style="zoom: 80%;" /></center>

> 简单理解，小端序就是不符合自然阅读习惯的存储方式，大端序就是符合自然阅读习惯的存储方式。